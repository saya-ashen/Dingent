"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[145],{15267:(e,t,a)=>{a.d(t,{qm:()=>s,vw:()=>d,xH:()=>i});var r=a(12115),l=a(79737),n=a(60860);let s=(0,r.createContext)(void 0),i=()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useThreadContext must be used within a ThreadProvider (in Providers component)");return e},o="chatThreadIdList";function d(){let{isLoading:e}=(0,n.U)(),{activeThreadId:t,setActiveThreadId:a}=i(),[s,d]=(0,r.useState)([]),[c,u]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(async()=>{try{let e=JSON.parse(localStorage.getItem(o)||"[]");if(d(e),!t&&0===e.length){let e=(0,l.A)();a(e)}}catch(e){console.error("Initialization failed:",e),d([])}finally{u(!1)}})()},[]),(0,r.useEffect)(()=>{t&&!c&&(localStorage.setItem("currentChatThreadId",t),d(e=>{if(!e.some(e=>e.id===t)){let a=[{id:t,title:"New Chat"},...e];return localStorage.setItem(o,JSON.stringify(a)),a}return e}))},[t,c]),{isLoading:c||e,threads:s,activeThreadId:t||"",setActiveThreadId:a,updateThreadTitle:(0,r.useCallback)((e,t)=>{d(a=>{let r=a.map(a=>a.id===e?{...a,title:t}:a);return localStorage.setItem(o,JSON.stringify(r)),r})},[]),deleteAllThreads:()=>{let e=(0,l.A)(),t={id:e,title:"New Chat"};d([t]),localStorage.setItem(o,JSON.stringify([t])),a(e)}}}},88145:(e,t,a)=>{a.d(t,{D:()=>T,Providers:()=>D});var r=a(95155),l=a(12115),n=a(33483),s=a(62811);function i(e){let{data:t}=e;return(0,r.jsx)("div",{className:"max-w-4xl w-full bg-white/80 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden",children:(0,r.jsx)("article",{className:"prose prose-indigo lg:prose-xl p-6",children:(0,r.jsx)(n.$,{remarkPlugins:[s.A],children:t.content})})})}var o=a(36268),d=a(11032),c=a(52596),u=a(39688);function g(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,u.QP)((0,c.$)(t))}function h(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:g("w-full caption-bottom text-sm",t),...a})})}function m(e){let{className:t,...a}=e;return(0,r.jsx)("thead",{"data-slot":"table-header",className:g("[&_tr]:border-b",t),...a})}function x(e){let{className:t,...a}=e;return(0,r.jsx)("tbody",{"data-slot":"table-body",className:g("[&_tr:last-child]:border-0",t),...a})}function p(e){let{className:t,...a}=e;return(0,r.jsx)("tr",{"data-slot":"table-row",className:g("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",t),...a})}function f(e){let{className:t,...a}=e;return(0,r.jsx)("th",{"data-slot":"table-head",className:g("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function b(e){let{className:t,...a}=e;return(0,r.jsx)("td",{"data-slot":"table-cell",className:g("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}var v=a(54624);let w=(0,a(74466).F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function j(e){let{className:t,variant:a,size:l,asChild:n=!1,...s}=e,i=n?v.DX:"button";return(0,r.jsx)(i,{"data-slot":"button",className:g(w({variant:a,size:l,className:t})),...s})}function N(e){let{className:t,type:a,...l}=e;return(0,r.jsx)("input",{type:a,"data-slot":"input",className:g("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...l})}function y(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"skeleton",className:g("bg-accent animate-pulse rounded-md",t),...a})}function k(e){let{table:t}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-end space-x-2 py-4",children:[(0,r.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:["Page ",t.getState().pagination.pageIndex+1," of"," ",t.getPageCount()||1]}),(0,r.jsx)(j,{variant:"outline",size:"sm",onClick:()=>t.previousPage(),disabled:!t.getCanPreviousPage(),children:"Previous"}),(0,r.jsx)(j,{variant:"outline",size:"sm",onClick:()=>t.nextPage(),disabled:!t.getCanNextPage(),children:"Next"})]})}function C(e){var t,a;let{columns:n,data:s,isLoading:i=!1,filterColumnId:c,title:u}=e,[g,v]=l.useState([]),[w,j]=l.useState([]),[C,S]=l.useState({}),I=(0,o.N4)({data:s,columns:n,getRowId:(e,t)=>"row_".concat(t),getCoreRowModel:(0,d.HT)(),getPaginationRowModel:(0,d.kW)(),getSortedRowModel:(0,d.h5)(),getFilteredRowModel:(0,d.hM)(),getExpandedRowModel:(0,d.D0)(),onSortingChange:v,onColumnFiltersChange:j,onExpandedChange:S,initialState:{pagination:{pageSize:6}},state:{sorting:g,columnFilters:w,expanded:C}});return(0,r.jsxs)("div",{className:"space-y-4",children:[u&&(0,r.jsx)("h3",{className:"text-2xl font-semibold tracking-tight",children:u}),c&&(0,r.jsx)(N,{placeholder:"Filter by ".concat(c,"..."),value:null!=(a=null==(t=I.getColumn(c))?void 0:t.getFilterValue())?a:"",onChange:e=>{var t;return null==(t=I.getColumn(c))?void 0:t.setFilterValue(e.target.value)},className:"max-w-sm"}),(0,r.jsx)("div",{className:"overflow-hidden rounded-md border",children:(0,r.jsxs)(h,{children:[(0,r.jsx)(m,{children:I.getHeaderGroups().map(e=>(0,r.jsx)(p,{children:e.headers.map(e=>(0,r.jsx)(f,{children:e.isPlaceholder?null:(0,o.Kv)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),(0,r.jsx)(x,{children:i?Array.from({length:5}).map((e,t)=>(0,r.jsx)(p,{children:n.map((e,a)=>(0,r.jsx)(b,{children:(0,r.jsx)(y,{className:"h-6 w-full"})},"skeleton-cell-".concat(t,"-").concat(a)))},"skeleton-row-".concat(t))):0===I.getRowModel().rows.length?(0,r.jsx)(p,{children:(0,r.jsx)(b,{colSpan:n.length,className:"h-24 text-center",children:"No results."})}):I.getRowModel().rows.map(e=>(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(p,{"data-state":e.getIsSelected()&&"selected",onClick:()=>e.toggleExpanded(),className:"cursor-pointer",children:e.getVisibleCells().map(e=>(0,r.jsx)(b,{className:"max-w-[250px] truncate",title:String(e.getValue()),children:(0,o.Kv)(e.column.columnDef.cell,e.getContext())},e.id))}),e.getIsExpanded()&&(0,r.jsx)(p,{children:(0,r.jsxs)(b,{colSpan:n.length,className:"p-4 bg-muted/50",children:[(0,r.jsx)("h4",{className:"text-md font-bold mb-2",children:"Full Details"}),(0,r.jsx)("ul",{className:"space-y-2",children:e.getVisibleCells().map(e=>(0,r.jsxs)("li",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"text-sm font-semibold text-muted-foreground",children:(0,o.Kv)(e.column.columnDef.header,{table:I,column:e.column,header:{id:"".concat(e.column.id,"_header"),column:e.column,depth:0,index:0,isPlaceholder:!1,colSpan:1,rowSpan:1,subHeaders:[],getContext:()=>({}),getLeafHeaders:()=>[],getResizeHandler:()=>()=>{},getStart:()=>0,getSize:()=>0}})}),(0,r.jsx)("span",{className:"text-sm break-words whitespace-normal",children:(0,o.Kv)(e.column.columnDef.cell,e.getContext())})]},"".concat(e.id,"-expanded")))})]})})]},e.id))})]})}),(0,r.jsx)(k,{table:I})]})}function S(e){let{data:t}=e,{tableColumns:a,tableData:s,title:i}=(0,l.useMemo)(()=>t&&t.columns&&t.rows?{tableColumns:t.columns.map(e=>({accessorKey:e,header:e,cell:e=>{var t;let{getValue:a}=e;return(0,r.jsx)(n.$,{className:"prose prose-sm prose-p:my-0",children:String(null!=(t=a())?t:"")})}})),tableData:t.rows,title:t.title}:{tableColumns:[],tableData:[],title:""},[t]),o=!t;return(0,r.jsx)("div",{className:"max-w-4xl w-full p-4 bg-white/80 backdrop-blur-sm rounded-lg shadow-lg",children:(0,r.jsx)(C,{columns:a,data:s,isLoading:o,title:i})})}var I=a(69542),P=a(15267);function T(e){let{widgets:t}=e;return(0,r.jsx)("div",{className:"h-screen w-full flex flex-col items-center overflow-y-auto pt-8 pb-8 space-y-6",style:{zIndex:1},children:0===t.length?(0,r.jsx)("div",{className:"flex-grow flex justify-center items-center text-gray-500",children:(0,r.jsx)("p",{className:"text-xl p-6 bg-white/60 rounded-lg shadow-md",children:"Agent output will appear here..."})}):t.map(e=>{switch(e.type){case"table":return(0,r.jsx)(S,{data:e.payload},e.id);case"markdown":return(0,r.jsx)(i,{data:e.payload},e.id);default:return null}})})}function z(e){let{children:t}=e,{threads:a,updateThreadTitle:n,...s}=(0,P.vw)(),i=(0,l.useMemo)(()=>({...s,threads:a,updateThreadTitle:n}),[s,a,n]);return(0,r.jsx)(P.qm.Provider,{value:i,children:t})}function _(){let e=JSON.parse(localStorage.getItem("chatThreadIdList")||"[]"),t=localStorage.getItem("currentChatThreadId");return t&&e.some(e=>e.id===t)?t:e.length>0?e[0].id:void 0}function D(e){let{children:t}=e,[a,n]=(0,l.useState)(_),s=(0,l.useMemo)(()=>({activeThreadId:a,setActiveThreadId:n,threads:[],isLoading:!0,updateThreadTitle:()=>{},deleteAllThreads:()=>{}}),[a]);return(0,r.jsx)(I.zP,{runtimeUrl:"/api/copilotkit",showDevConsole:!0,agent:"sample_agent",threadId:a,children:(0,r.jsx)(P.qm.Provider,{value:s,children:(0,r.jsx)(z,{children:t})})})}}}]);